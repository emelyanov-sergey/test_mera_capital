Обзор
Этот проект представляет собой приложение на базе FastAPI, которое взаимодействует с API Deribit для получения цен на криптовалютные индексы BTC и ETH. Приложение сохраняет эти цены в базе данных PostgreSQL, используя SQLAlchemy для ORM и APScheduler для планирования периодических задач. Проект структурирован на несколько модулей, каждый из которых отвечает за различные аспекты приложения.

Структура проекта
backend/main.py: Точка входа в приложение. Инициализирует FastAPI, настраивает базу данных и планирует периодические задачи.
backend/core/routers.py: Содержит API маршруты для взаимодействия с сохраненными данными.
backend/core/db_connetcion.py: Управляет подключением к базе данных и созданием сессий.
backend/derebit_client.py: Обрабатывает получение цен индексов из API Deribit и их сохранение в базе данных.
backend/core/db_model.py: Определяет модели и схемы базы данных.
Предварительные требования
Python 3.8+
PostgreSQL
Виртуальное окружение (опционально, но рекомендуется)
Установка
Клонируйте репозиторий:
git clone <repository-url>
cd <repository-directory>
Copy
Insert

Настройте виртуальное окружение (опционально, но рекомендуется):
python -m venv venv
source venv/bin/activate  # На Windows используйте `venv\Scripts\activate`
Copy
Insert

Установите необходимые пакеты:
pip install -r requirements.txt
Copy
Insert

Настройте переменные окружения для подключения к базе данных: Убедитесь, что в файле backend/core/config.py указаны правильные параметры подключения к вашей базе данных PostgreSQL.
Запустите приложение:
uvicorn backend.main:app --reload
Copy
Insert

Доступ к API: После запуска приложение будет доступно по адресу http://127.0.0.1:8000. Вы можете использовать инструменты, такие как Postman или curl, для взаимодействия с API.
Основные эндпоинты
GET /all_prices/{ticker}: Возвращает все сохраненные данные по указанной валюте (BTC или ETH).
GET /latest-price/{ticker}: Возвращает последнюю цену валюты.
GET /prices/{ticker}: Возвращает цену валюты с фильтром по дате.
Логирование
Логирование настроено в файле backend/core/logger.py и выводит информацию как в файл app.log, так и в консоль.